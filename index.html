<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Great Mind Profile - In-Depth Personality Assessment</title>
    <meta name="description" content="Discover your true personality with the Great Mind Profile. Take our free, scientifically-validated personality tests based on the HEXACO and 16 Personality Types models.">
    <meta name="keywords" content="personality test, free personality test, HEXACO test, 16 personality types, Myers-Briggs, career test, psychological assessment, self-discovery">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2HR8S7SQES"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-2HR8S7SQES');
    </script>

    <!-- Google AdSense -->
    <meta name="google-adsense-account" content="ca-pub-8816195894061749">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8816195894061749"
         crossorigin="anonymous"></script>

    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- html2canvas for image generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
        }
        .font-headline {
            font-family: 'Poppins', sans-serif;
            font-weight: 800;
        }
        .title-shadow {
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }
        .fade-out {
            animation: fadeOut 0.5s ease-out forwards;
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        .score-bar-gradient {
            background-image: linear-gradient(to right, #3b82f6, #22c55e);
        }
        .choice-btn {
            display: block;
            width: 100%;
            text-align: left;
            padding: 1rem;
            margin-bottom: 0.75rem;
            border-radius: 0.75rem;
            font-weight: 600;
            transition: background-color 0.2s, transform 0.2s;
        }
        .choice-btn:hover {
            transform: translateY(-2px);
        }
        .mind-map-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        .mind-map-bg svg {
            position: absolute;
            width: 150%;
            height: 150%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.1;
            animation: rotate-bg 120s linear infinite;
        }
        .mind-map-bg circle {
            animation: pulse-node 8s ease-in-out infinite alternate;
        }
        .mind-map-bg circle:nth-child(2n) { animation-delay: -2s; }
        .mind-map-bg circle:nth-child(3n) { animation-delay: -4s; }
        .mind-map-bg circle:nth-child(4n) { animation-delay: -6s; }

        @keyframes rotate-bg {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        @keyframes pulse-node {
            from { r: 3; }
            to { r: 6; }
        }
        
        #loading-bar-inner {
             transition: width 0.1s linear;
             background-image: linear-gradient(to right, #4f46e5, #d946ef, #f59e0b);
        }
        
        #sidebar {
            transition: transform 0.3s ease-in-out;
        }
        
        .personality-answer-btn {
            transition: all 0.2s ease-in-out;
        }
        .personality-answer-btn:hover {
            transform: scale(1.05);
        }

        #nav-logo {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
        }
        #nav-logo.hidden-on-home {
            opacity: 0;
            transform: translateY(-10px);
            pointer-events: none;
        }
        .test-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .test-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-200 text-gray-800 relative">
    
    <!-- Navigation Bar -->
    <nav class="fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-sm shadow-md z-30">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <a href="#" id="nav-logo" class="text-2xl font-bold text-gray-800">
                    <span class="bg-gradient-to-r from-blue-500 via-red-500 to-yellow-500 bg-clip-text text-transparent">Great Mind Profile</span>
                </a>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#" id="nav-home" class="text-gray-600 hover:text-blue-600 font-semibold">Home</a>
                    <a href="#" id="nav-about" class="text-gray-600 hover:text-blue-600 font-semibold">About Us</a>
                </div>
                <div class="md:hidden">
                    <button id="burger-menu" class="p-2 rounded-md">
                        <svg class="w-6 h-6 text-gray-800" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                            <path d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sidebar -->
    <div id="sidebar" class="fixed top-0 right-0 h-full w-64 bg-white shadow-lg z-40 transform translate-x-full">
        <div class="p-5 pt-10">
            <button id="close-sidebar-btn" class="absolute top-4 right-4 p-2 text-2xl font-bold text-gray-600 hover:text-gray-800">&times;</button>
            <div class="mt-8">
                <a href="#" id="sidebar-home" class="block py-2 text-lg text-gray-700 hover:text-blue-600">Home</a>
                <a href="#" id="sidebar-about" class="block py-2 text-lg text-gray-700 hover:text-blue-600">About Us</a>
                <p class="text-gray-500 mt-4 pt-4 border-t">More features coming soon!</p>
            </div>
        </div>
    </div>
    
    <!-- Homepage Container -->
    <div id="homepage-container" class="flex flex-col items-center justify-center min-h-screen p-4 text-center relative z-10 transition-opacity duration-500">
        <div class="mind-map-bg">
             <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#a5b4fc;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#f9a8d4;stop-opacity:1" />
                    </linearGradient>
                </defs>
                <g stroke="url(#lineGradient)" stroke-width="0.5">
                    <line x1="100" y1="100" x2="50" y2="50" /> <line x1="100" y1="100" x2="150" y2="50" /> <line x1="100" y1="100" x2="50" y2="150" /> <line x1="100" y1="100" x2="150" y2="150" /> <line x1="50" y1="50" x2="20" y2="80" /> <line x1="50" y1="50" x2="80" y2="20" /> <line x1="150" y1="50" x2="120" y2="20" /> <line x1="150" y1="50" x2="180" y2="80" /> <line x1="50" y1="150" x2="20" y2="120" /> <line x1="50" y1="150" x2="80" y2="180" /> <line x1="150" y1="150" x2="120" y2="180" /> <line x1="150" y1="150" x2="180" y2="120" />
                </g>
                <circle cx="100" cy="100" r="5" fill="#6366f1"/> <circle cx="50" cy="50" r="4" fill="#818cf8"/> <circle cx="150" cy="50" r="4" fill="#818cf8"/> <circle cx="50" cy="150" r="4" fill="#818cf8"/> <circle cx="150" cy="150" r="4" fill="#818cf8"/> <circle cx="20" cy="80" r="3" fill="#a5b4fc"/> <circle cx="80" cy="20" r="3" fill="#a5b4fc"/> <circle cx="120" cy="20" r="3" fill="#a5b4fc"/> <circle cx="180" cy="80" r="3" fill="#a5b4fc"/> <circle cx="20" cy="120" r="3" fill="#a5b4fc"/> <circle cx="80" cy="180" r="3" fill="#a5b4fc"/> <circle cx="120" cy="180" r="3" fill="#a5b4fc"/> <circle cx="180" cy="120" r="3" fill="#a5b4fc"/>
            </svg>
        </div>
        
        <main class="w-full max-w-6xl mx-auto pt-24 pb-12">
            <header class="text-center mb-16">
                <h1 class="font-headline text-5xl sm:text-6xl md:text-7xl leading-tight tracking-tighter title-shadow text-gray-800">
                    Finally Understand What Makes You, <span class="bg-gradient-to-r from-blue-500 via-red-500 to-yellow-500 bg-clip-text text-transparent">You.</span>
                </h1>
                <p class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">
                    Discover your unique strengths, improve your relationships, and find your ideal career path with our free, science-backed personality assessments.
                </p>
            </header>

            <div class="grid md:grid-cols-2 gap-8 lg:gap-12">
                <!-- Test Card 1: HEXACO -->
                <div class="test-card bg-white/60 backdrop-blur-lg p-8 rounded-3xl shadow-lg border border-white/20 flex flex-col text-center">
                    <div class="w-full h-2 bg-gradient-to-r from-blue-500 to-red-500 rounded-full mb-6"></div>
                    <h3 class="text-2xl font-bold text-gray-800">The Deep Dive</h3>
                    <p class="text-gray-600 mt-2 mb-4 flex-grow">For a nuanced, multi-level understanding of your character based on the modern HEXACO model.</p>
                    <a href="#" id="learn-more-hexaco-btn" class="text-blue-600 font-semibold hover:underline mb-6">Click here to learn more</a>
                    <button id="home-start-hexaco-btn" class="w-full bg-gray-800 text-white font-bold text-lg px-8 py-3 rounded-full shadow-lg transform transition-transform duration-300 hover:scale-105 hover:bg-black focus:outline-none focus:ring-4 focus:ring-gray-400">
                        Start the HEXACO Test
                    </button>
                </div>
                <!-- Test Card 2: 16 Types -->
                <div class="test-card bg-white/60 backdrop-blur-lg p-8 rounded-3xl shadow-lg border border-white/20 flex flex-col text-center">
                    <div class="w-full h-2 bg-gradient-to-r from-red-500 to-yellow-500 rounded-full mb-6"></div>
                    <h3 class="text-2xl font-bold text-gray-800">The Classic Framework</h3>
                    <p class="text-gray-600 mt-2 mb-4 flex-grow">For discovering your cognitive style and how you interact with the world, based on the 16 Personality Types.</p>
                    <a href="#" id="learn-more-16p-btn" class="text-cyan-600 font-semibold hover:underline mb-6">Click here to learn more</a>
                    <button id="home-start-16p-btn" class="w-full bg-cyan-600 text-white font-bold text-lg px-8 py-3 rounded-full shadow-lg transform transition-transform duration-300 hover:scale-105 hover:bg-cyan-700 focus:outline-none focus:ring-4 focus:ring-cyan-300">
                        Start the 16 Types Test
                    </button>
                </div>
            </div>

            <div class="text-center mt-12">
                <p class="text-gray-600">ðŸ”’ <strong>Your Privacy is Our Priority.</strong> We never store your test results or personal data. Period.</p>
            </div>
        </main>
        
        <section class="w-full max-w-5xl mx-auto py-16">
            <h2 class="text-3xl font-bold text-center mb-12">Why Choose Us?</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-left">
                <div class="bg-blue-50 p-6 rounded-xl">
                    <h3 class="text-xl font-bold mb-2 text-blue-800">Based on Science</h3>
                    <p class="text-gray-600">Our tests are built on decades of psychological research, ensuring your results are both reliable and insightful.</p>
                </div>
                <div class="bg-green-50 p-6 rounded-xl">
                    <h3 class="text-xl font-bold mb-2 text-green-800">Holistic Analysis</h3>
                    <p class="text-gray-600">We go beyond simple traits by analyzing situational judgments and life themes for a truly complete profile.</p>
                </div>
                <div class="bg-yellow-50 p-6 rounded-xl">
                    <h3 class="text-xl font-bold mb-2 text-yellow-800">Completely Free</h3>
                    <p class="text-gray-600">Unlock every feature and gain full access to your personality insights without any hidden costs or fees.</p>
                </div>
                 <div class="bg-indigo-50 p-6 rounded-xl">
                    <h3 class="text-xl font-bold mb-2 text-indigo-800">Actionable Insights</h3>
                    <p class="text-gray-600">Understand your strengths and challenges with clear feedback designed for real personal growth.</p>
                </div>
            </div>
        </section>

        <footer class="w-full text-center py-4">
            <p id="footer-text" class="text-gray-500 text-sm">&copy; 2025 Great Mind Profile. All Rights Reserved.</p>
        </footer>
    </div>
    
    <!-- About Us Container -->
    <div id="about-us-container" class="hidden min-h-screen p-4 sm:p-6 md:p-8 pt-28">
        <div class="max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-lg">
            <h1 class="font-headline text-4xl text-gray-800 mb-4">About Us</h1>
            <div class="space-y-4 text-gray-700 text-lg">
                <p>We are a team of developers, designers, and psychology enthusiasts who are passionate about helping people understand themselves better. Our goal is to make personality science accessible, fun, and insightful for everyone.</p>
                <p>We believe that self-discovery is a lifelong journey, and our assessments are designed to be a helpful guide along the way. These quizzes are not here to label or judge you, but to provide a mirror that reflects your unique patterns of thinking, feeling, and behaving. The insights you gain can empower you to leverage your strengths, navigate your challenges, and build more meaningful relationships.</p>
                <p>In a digital world where data is a valuable commodity, we stand firm on our commitment to your privacy. We do not collect or store any of your personal data or test results. Unlike other platforms that might hide their best features behind a paywall, our tools are completely free. We're dedicated to providing a safe, transparent, and genuinely helpful experience for anyone curious about the fascinating world of personality.</p>
            </div>
             <div class="text-center mt-8">
                <button id="back-to-home-btn" class="inline-block bg-gray-200 text-gray-800 font-semibold py-3 px-6 rounded-full hover:bg-gray-300 transition">&larr; Back to Home</button>
            </div>
        </div>
    </div>

    <!-- HEXACO Details Container -->
    <div id="hexaco-details-container" class="hidden min-h-screen p-4 sm:p-6 md:p-8 pt-28">
        <div class="max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-lg text-gray-700 leading-relaxed">
            <h1 class="font-headline text-4xl text-blue-800 mb-4">The HEXACO Model of Personality</h1>
            <p class="text-lg text-gray-600 mb-6">The <strong>HEXACO model</strong> is a highly-regarded, six-dimensional framework of human personality structure. Its name is an acronym for the six core dimensions it identifies: <strong>H</strong>onesty-Humility, <strong>E</strong>motionality, e<strong>X</strong>traversion, <strong>A</strong>greeableness, <strong>C</strong>onscientiousness, and <strong>O</strong>penness to Experience. This model is a result of extensive lexical studies in various languages, which are based on the hypothesis that the most important personality traits will be encoded in a culture's language.</p>
            
            <h2 class="text-2xl font-bold text-gray-800 mt-8 mb-3">History and Development</h2>
            <p class="mb-4">The development of the HEXACO model is primarily credited to Canadian psychologists <strong>Kibeom Lee and Michael C. Ashton</strong> in the early 2000s. While conducting lexical studies, they and other researchers consistently found that while five factors similar to the well-known "Big Five" model appeared, a distinct sixth factor also reliably emerged across different languages and cultures. This led to the formal proposal of a six-factor model.</p>
            <p class="mb-4">The key innovation of the HEXACO model was the introduction of the <strong>Honesty-Humility</strong> dimension. This factor incorporates traits like sincerity, fairness, and modesty, versus greed, deceit, and pretentiousness. Researchers found that this dimension was crucial for explaining variance in personality that the Big Five model could not, particularly in areas related to ethical and pro-social versus antisocial behavior.</p>

            <h2 class="text-2xl font-bold text-gray-800 mt-8 mb-3">The Six Dimensions Explained</h2>
            <div class="space-y-4">
                <p><strong>1. Honesty-Humility (H):</strong> This is the cornerstone of the HEXACO model. It relates to sincerity, fairness, greed avoidance, and modesty. High scorers are genuine and principled, while low scorers are more strategic and self-interested. This dimension is a strong predictor of pro-social and ethical behavior.</p>
                <p><strong>2. Emotionality (E):</strong> This dimension captures a person's tendency to experience fear, anxiety, dependence, and sentimentality. High scorers are more empathetic and sensitive to harm, while low scorers are typically brave, self-assured, and emotionally stable.</p>
                <p><strong>3. Extraversion (X):</strong> This relates to one's engagement with the social world. High scorers are outgoing, energetic, and socially confident. Low scorers are more reserved, independent, and comfortable with solitude.</p>
                <p><strong>4. Agreeableness (A) vs. Anger:</strong> This dimension measures forgiveness, gentleness, and patience versus anger and irritability. High scorers are cooperative and harmonious. Low scorers are more independent-minded and can be quick to anger.</p>
                <p><strong>5. Conscientiousness (C):</strong> This reflects a person's tendency to be organized, diligent, disciplined, and perfectionistic. High scorers are reliable and detail-oriented. Low scorers are more flexible and spontaneous, and less concerned with precise scheduling.</p>
                <p><strong>6. Openness to Experience (O):</strong> This dimension involves creativity, curiosity, and an appreciation for aesthetics and unconventional ideas. High scorers are innovative and inquisitive. Low scorers are more pragmatic, conventional, and find comfort in tradition.</p>
            </div>
            <div class="text-center mt-8">
                <button class="back-to-home-btn-secondary inline-block bg-gray-200 text-gray-800 font-semibold py-3 px-6 rounded-full hover:bg-gray-300 transition">&larr; Back to Home</button>
            </div>
        </div>
    </div>

    <!-- 16 Personalities Details Container -->
    <div id="personality-details-container" class="hidden min-h-screen p-4 sm:p-6 md:p-8 pt-28">
        <div class="max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-lg text-gray-700 leading-relaxed">
            <h1 class="font-headline text-4xl text-cyan-800 mb-4">The 16 Personality Types Framework</h1>
            <p class="text-lg text-gray-600 mb-6">The framework of <strong>16 personality types</strong> is one of the most popular and enduring models for understanding personality differences. It is based on the influential theory of psychological types proposed by Swiss psychiatrist <strong>Carl Jung</strong>. This model provides a rich vocabulary for how people perceive the world and make decisions, categorizing preferences into four key dichotomies.</p>
            
            <h2 class="text-2xl font-bold text-gray-800 mt-8 mb-3">History and Origins</h2>
            <p class="mb-4">The origins of this model lie in Carl Jung's 1921 book, <em>Psychological Types</em>. Jung theorized that human behavior is not random but follows predictable patterns arising from fundamental differences in how individuals prefer to use their perception and judgment. He introduced concepts like <strong>introversion and extraversion</strong> as basic attitudes towards the world.</p>
            <p class="mb-4">During World War II, <strong>Isabel Myers and her mother, Katharine Briggs</strong>, were inspired by Jung's work. They sought to make his theories accessible and useful to the general public, believing that an understanding of personality preferences would help people find work that suited their character and lead to more harmonious relationships. They developed the Myers-Briggs Type Indicator (MBTI) instrument to assess these preferences, which ultimately popularized the 16-type system we know today. It's important to note that while our test is based on these Jungian concepts, it is not the official MBTI assessment.</p>

            <h2 class="text-2xl font-bold text-gray-800 mt-8 mb-3">The Four Dichotomies</h2>
            <div class="space-y-4">
                <p><strong>1. Introversion (I) vs. Extraversion (E):</strong> This describes where you focus your energy and get recharged. Extraverts are energized by social interaction and the external world, while Introverts are energized by spending time alone with their internal world of thoughts and ideas.</p>
                <p><strong>2. Sensing (S) vs. Intuition (N):</strong> This explains how you perceive information. Sensing types are practical and focus on concrete facts and details they can verify with their five senses. Intuitive types are more interested in patterns, possibilities, and abstract concepts, often thinking about the future.</p>
                <p><strong>3. Thinking (T) vs. Feeling (F):</strong> This dichotomy describes how you make decisions. Thinking types prioritize logic, objective criteria, and impartiality. Feeling types make decisions based on personal values, harmony, and how their choices will affect others.</p>
                <p><strong>4. Judging (J) vs. Perceiving (P):</strong> This reflects your approach to the outside world and your lifestyle. Judging types prefer structure, plans, and firm decisions, enjoying a sense of closure. Perceiving types are more flexible, spontaneous, and like to keep their options open, adapting as they go.</p>
            </div>
             <div class="text-center mt-8">
                <button class="back-to-home-btn-secondary inline-block bg-gray-200 text-gray-800 font-semibold py-3 px-6 rounded-full hover:bg-gray-300 transition">&larr; Back to Home</button>
            </div>
        </div>
    </div>


    <!-- Test Container -->
    <div id="test-container" class="hidden min-h-screen flex-col items-center justify-center p-4 transition-opacity duration-500 pt-28">
        <div class="w-full max-w-2xl mb-8">
            <div class="flex justify-between mb-1">
                <span id="progress-title" class="text-base font-medium text-gray-700"></span>
                <span id="progress-text" class="text-sm font-medium text-gray-700"></span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2.5">
                <div id="progress-bar" class="bg-blue-500 h-2.5 rounded-full" style="width: 0%"></div>
            </div>
        </div>
        <div class="bg-white p-8 rounded-2xl shadow-md w-full max-w-2xl">
            <h2 id="question-text" class="text-2xl md:text-3xl font-bold text-gray-800 text-center mb-8"></h2>
            <div id="answer-options"></div>
            <div class="mt-8 text-center">
                <button id="back-btn" class="text-gray-500 hover:text-gray-800 font-semibold py-2 px-4"></button>
            </div>
        </div>
    </div>
    
    <!-- 16 Personalities Test Container -->
    <div id="personality-test-container" class="hidden min-h-screen flex-col items-center justify-center p-4 pt-28">
        <div id="personality-intro" class="text-center max-w-3xl mx-auto">
             <h1 class="font-headline text-4xl md:text-5xl text-center mb-4 title-shadow bg-gradient-to-r from-teal-400 via-cyan-500 to-sky-600 bg-clip-text text-transparent">The 16 Personality Types</h1>
             <p class="text-lg text-gray-700 mb-8">This test is based on the influential theory of psychological types proposed by Carl Jung. Discover how your preferences in four key areas combine to form one of 16 distinct personality types. Answer honestly to get the most accurate result.</p>
             <button id="start-personality-test-btn" class="inline-block bg-cyan-600 text-white font-bold text-xl px-10 py-4 rounded-full shadow-lg transform transition-transform duration-300 hover:scale-105 hover:bg-cyan-700 focus:outline-none focus:ring-4 focus:ring-cyan-300">Start the Test</button>
        </div>

        <div id="personality-question-container" class="hidden w-full max-w-2xl">
             <div class="flex justify-between mb-2">
                <span class="text-base font-medium text-gray-700">16 Personalities Test</span>
                <span id="personality-progress-text" class="text-sm font-medium text-gray-700"></span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2.5 mb-4">
                <div id="personality-progress-bar" class="bg-cyan-500 h-2.5 rounded-full" style="width: 0%"></div>
            </div>
            <div class="bg-white p-8 rounded-2xl shadow-md">
                <h2 id="personality-question-text" class="text-2xl md:text-3xl font-bold text-gray-800 text-center mb-8"></h2>
                <div id="personality-answer-options" class="grid grid-cols-1 sm:grid-cols-5 gap-3 text-center"></div>
                <div class="mt-8 text-center">
                    <button id="personality-back-btn" class="text-gray-500 hover:text-gray-800 font-semibold py-2 px-4">&larr; Back</button>
                </div>
            </div>
        </div>
        
        <div id="personality-results-container" class="hidden max-w-3xl mx-auto p-4">
            <div id="personality-results-content" class="bg-white p-8 rounded-2xl shadow-lg">
                <p class="text-gray-600 font-semibold text-center">Your Personality Type is:</p>
                <h2 id="personality-type-title" class="text-5xl font-extrabold mb-2 text-center"></h2>
                <h3 id="personality-type-name" class="text-3xl font-bold text-gray-800 mb-6 text-center"></h3>
                <p id="personality-type-description" class="text-lg text-gray-700 text-left mb-8"></p>
                <div class="grid md:grid-cols-2 gap-8 text-left">
                    <div>
                        <h4 class="text-2xl font-bold text-green-600 mb-3">Strengths</h4>
                        <ul id="personality-strengths" class="list-disc list-inside space-y-2 text-gray-700"></ul>
                    </div>
                    <div>
                        <h4 class="text-2xl font-bold text-red-600 mb-3">Weaknesses</h4>
                        <ul id="personality-weaknesses" class="list-disc list-inside space-y-2 text-gray-700"></ul>
                    </div>
                </div>
                <div class="mt-8">
                     <h4 class="text-2xl font-bold text-indigo-600 mb-3 text-center">Potential Career Paths</h4>
                     <p id="personality-careers" class="text-center text-gray-700"></p>
                </div>
                <div class="mt-8">
                     <h4 class="text-2xl font-bold text-yellow-600 mb-3 text-center">Famous People</h4>
                     <p id="personality-famous" class="text-center text-gray-700"></p>
                </div>
            </div>
            
            <div class="bg-white p-8 rounded-2xl shadow-md w-full mt-8 fade-in">
                <h3 class="text-2xl font-bold text-center mb-6">Next Steps</h3>
                <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
                     <button id="go-to-hexaco-test-btn" class="w-full sm:w-auto inline-block bg-gray-800 text-white font-bold text-lg px-8 py-3 rounded-full shadow-lg transform transition-transform duration-300 hover:scale-105 hover:bg-black focus:outline-none focus:ring-4 focus:ring-gray-400">Try the Great Mind Profile Test</button>
                </div>
            </div>

            <div class="bg-white p-8 rounded-2xl shadow-md w-full mt-8 fade-in">
                <h3 class="text-2xl font-bold text-center mb-6">Download & Share</h3>
                <div class="text-center mb-6">
                    <button id="download-personality-btn" class="w-full sm:w-auto inline-block bg-blue-600 text-white font-bold text-lg px-8 py-3 rounded-full shadow-lg transform transition-transform duration-300 hover:scale-105 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300">Download Results Image</button>
                </div>
                <div class="flex justify-center items-center gap-6 pt-4">
                    <button onclick="handleGenericShare('facebook', 'personality')" class="text-blue-600 hover:text-blue-800 transition transform hover:scale-110">
                        <svg class="w-10 h-10" viewBox="0 0 24 24" fill="currentColor"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-1.5c-1 0-1 .5-1 1v2h3l-.5 3h-2.5v6.95c5.05-.95 9-5.46 9-10.95z"/></svg>
                    </button>
                    <button onclick="handleGenericShare('twitter', 'personality')" class="text-black hover:text-gray-700 transition transform hover:scale-110">
                        <svg class="w-10 h-10" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                    </button>
                    <button onclick="handleGenericShare('whatsapp', 'personality')" class="text-green-500 hover:text-green-700 transition transform hover:scale-110">
                       <svg class="w-10 h-10" viewBox="0 0 24 24" fill="currentColor"><path d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.38 1.25 4.82l-1.34 4.89 5.01-1.32c1.39.71 2.97 1.12 4.59 1.12h.01c5.46 0 9.91-4.45 9.91-9.91s-4.45-9.91-9.91-9.91zm0 18.16c-1.47 0-2.89-.38-4.16-1.09l-.3-.18-3.09.81.83-3.02-.2-.32c-.8-1.31-1.28-2.84-1.28-4.45 0-4.54 3.68-8.22 8.22-8.22 4.54 0 8.22 3.68 8.22 8.22s-3.68 8.22-8.22 8.22zm4.45-6.21c-.24-.12-1.42-.7-1.64-.78-.22-.08-.38-.12-.54.12-.16.24-.62.78-.76.94-.14.16-.28.18-.52.06-.24-.12-1.02-.38-1.94-1.2s-1.4-1.83-1.56-2.13c-.16-.3-.02-.46.1-.6.11-.13.24-.34.37-.51.12-.16.16-.28.24-.47.08-.19.04-.35-.02-.47-.06-.12-.54-1.29-0.74-1.77-.2-.48-.4-.41-.54-.42-.14 0-.3 0-.47 0s-.42.06-.64.3c-.22.24-.86.84-.86 2.05s.88 2.38 1 2.54c.12.16 1.74 2.65 4.22 3.72.59.26 1.05.41 1.41.52.6.19 1.14.16 1.56.1.48-.06 1.42-.58 1.62-1.14.2-.56.2-1.04.14-1.14-.06-.11-.22-.18-.46-.3z"/></svg>
                    </button>
                    <button onclick="handleGenericShare('instagram', 'personality')" class="text-pink-600 hover:text-pink-800 transition transform hover:scale-110">
                        <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.689-.073-4.948-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44 1.441-.645 1.441-1.44-.645-1.44-1.441-1.44z"/></svg>
                    </button>
                </div>
                <p id="personality-share-message" class="text-center text-gray-600 mt-4"></p>
            </div>
        </div>
    </div>
    
    <!-- Loading Container -->
    <div id="loading-container" class="hidden min-h-screen flex-col items-center justify-center p-4">
        <div class="w-full max-w-md text-center">
            <h2 id="loading-text" class="text-3xl font-bold text-gray-700 mb-4">Analyzing Your Profile...</h2>
            <div class="w-full bg-gray-200 rounded-full h-4 mb-8">
                <div id="loading-bar-inner" class="h-4 rounded-full" style="width: 0%"></div>
            </div>
             <!-- AdSense Ad Unit -->
            <div id="ad-container" class="w-full max-w-md mx-auto mt-8">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8816195894061749"
                     crossorigin="anonymous"></script>
                <!-- Loading page -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-8816195894061749"
                     data-ad-slot="4833270024"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
    </div>


    <!-- HEXACO Results Container -->
    <div id="results-container" class="hidden bg-gray-100 p-4 sm:p-6 md:p-8 pt-28">
        <div id="results-content" class="max-w-4xl mx-auto pb-16">
            <div class="bg-white p-8 rounded-2xl shadow-md w-full mb-8 fade-in">
                <h2 id="results-main-title" class="text-3xl md:text-4xl font-extrabold text-center mb-2">Your Integrated Profile:</h2>
                <p id="profile-title" class="text-2xl md:text-3xl font-bold text-center mb-2"></p>
                <p id="profile-subtypes" class="text-center text-gray-600 font-semibold mb-6"></p>
                <p id="profile-summary" class="text-gray-700 text-lg"></p>
                <div id="level2-summary" class="mt-4 p-4 bg-blue-50 rounded-lg"></div>
                <div id="level3-summary" class="mt-4 p-4 bg-indigo-50 rounded-lg"></div>
            </div>

            <div class="bg-white p-8 rounded-2xl shadow-md w-full mb-8 fade-in" style="animation-delay: 0.2s;">
                <h3 id="results-breakdown-title" class="text-2xl font-bold text-center mb-6">Your Trait Breakdown</h3>
                <div id="trait-details" class="grid grid-cols-1 md:grid-cols-2 gap-8"></div>
            </div>

            <div class="bg-white p-8 rounded-2xl shadow-md w-full mb-8 fade-in" style="animation-delay: 0.4s;">
                <h3 id="results-next-steps-title" class="text-2xl font-bold text-center mb-6">Next Steps</h3>
                <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
                     <button id="go-to-16p-test-btn" class="w-full sm:w-auto inline-block bg-cyan-600 text-white font-bold text-lg px-8 py-3 rounded-full shadow-lg transform transition-transform duration-300 hover:scale-105 hover:bg-cyan-700 focus:outline-none focus:ring-4 focus:ring-cyan-300">Try the 16 Personalities Test</button>
                </div>
            </div>
            
            <div class="bg-white p-8 rounded-2xl shadow-md w-full fade-in" style="animation-delay: 0.6s;">
                <h3 class="text-2xl font-bold text-center mb-6">Download & Share</h3>
                <div class="text-center mb-6">
                     <button id="download-btn" class="w-full sm:w-auto inline-block bg-blue-600 text-white font-bold text-lg px-8 py-3 rounded-full shadow-lg transform transition-transform duration-300 hover:scale-105 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300">Download Results Image</button>
                </div>
                <div class="flex justify-center items-center gap-6 pt-4">
                     <button onclick="handleGenericShare('facebook', 'hexaco')" class="text-blue-600 hover:text-blue-800 transition transform hover:scale-110">
                        <svg class="w-10 h-10" viewBox="0 0 24 24" fill="currentColor"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-1.5c-1 0-1 .5-1 1v2h3l-.5 3h-2.5v6.95c5.05-.95 9-5.46 9-10.95z"/></svg>
                    </button>
                    <button onclick="handleGenericShare('twitter', 'hexaco')" class="text-black hover:text-gray-700 transition transform hover:scale-110">
                        <svg class="w-10 h-10" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                    </button>
                    <button onclick="handleGenericShare('whatsapp', 'hexaco')" class="text-green-500 hover:text-green-700 transition transform hover:scale-110">
                       <svg class="w-10 h-10" viewBox="0 0 24 24" fill="currentColor"><path d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.38 1.25 4.82l-1.34 4.89 5.01-1.32c1.39.71 2.97 1.12 4.59 1.12h.01c5.46 0 9.91-4.45 9.91-9.91s-4.45-9.91-9.91-9.91zm0 18.16c-1.47 0-2.89-.38-4.16-1.09l-.3-.18-3.09.81.83-3.02-.2-.32c-.8-1.31-1.28-2.84-1.28-4.45 0-4.54 3.68-8.22 8.22-8.22 4.54 0 8.22 3.68 8.22 8.22s-3.68 8.22-8.22 8.22zm4.45-6.21c-.24-.12-1.42-.7-1.64-.78-.22-.08-.38-.12-.54.12-.16.24-.62.78-.76.94-.14.16-.28.18-.52.06-.24-.12-1.02-.38-1.94-1.2s-1.4-1.83-1.56-2.13c-.16-.3-.02-.46.1-.6.11-.13.24-.34.37-.51.12-.16.16-.28.24-.47.08-.19.04-.35-.02-.47-.06-.12-.54-1.29-0.74-1.77-.2-.48-.4-.41-.54-.42-.14 0-.3 0-.47 0s-.42.06-.64.3c-.22.24-.86.84-.86 2.05s.88 2.38 1 2.54c.12.16 1.74 2.65 4.22 3.72.59.26 1.05.41 1.41.52.6.19 1.14.16 1.56.1.48-.06 1.42-.58 1.62-1.14.2-.56.2-1.04.14-1.14-.06-.11-.22-.18-.46-.3z"/></svg>
                    </button>
                    <button onclick="handleGenericShare('instagram', 'hexaco')" class="text-pink-600 hover:text-pink-800 transition transform hover:scale-110">
                        <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.689-.073-4.948-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44 1.441-.645 1.441-1.44-.645-1.44-1.441-1.44z"/></svg>
                    </button>
                </div>
                 <p id="share-message" class="text-center text-gray-600 mt-4"></p>
            </div>
        </div>
    </div>

    <script>
        // --- HEXACO Test Data & Logic ---
        const level1Questions = [
            { id: 'h1', dimension: 'H', score: 1 }, { id: 'h2', dimension: 'H', score: -1 }, { id: 'h3', dimension: 'H', score: -1 }, { id: 'h4', dimension: 'H', score: 1 }, { id: 'h5', dimension: 'H', score: 1 }, { id: 'h6', dimension: 'H', score: -1 }, { id: 'h7', dimension: 'H', score: 1 }, { id: 'h8', dimension: 'H', score: -1 }, { id: 'h9', dimension: 'H', score: 1 },
            { id: 'e1', dimension: 'E', score: 1 }, { id: 'e2', dimension: 'E', score: 1 }, { id: 'e3', dimension: 'E', score: 1 }, { id: 'e4', dimension: 'E', score: -1 }, { id: 'e5', dimension: 'E', score: -1 }, { id: 'e6', dimension: 'E', score: -1 }, { id: 'e7', dimension: 'E', score: 1 }, { id: 'e8', dimension: 'E', score: -1 }, { id: 'e9', dimension: 'E', score: 1 },
            { id: 'x1', dimension: 'X', score: -1 }, { id: 'x2', dimension: 'X', score: 1 }, { id: 'x3', dimension: 'X', score: 1 }, { id: 'x4', dimension: 'X', score: -1 }, { id: 'x5', dimension: 'X', score: 1 }, { id: 'x6', dimension: 'X', score: -1 }, { id: 'x7', dimension: 'X', score: 1 }, { id: 'x8', dimension: 'X', score: -1 },
            { id: 'a1', dimension: 'A', score: -1 }, { id: 'a2', dimension: 'A', score: 1 }, { id: 'a3', dimension: 'A', score: 1 }, { id: 'a4', dimension: 'A', score: -1 }, { id: 'a5', dimension: 'A', score: 1 }, { id: 'a6', dimension: 'A', score: -1 }, { id: 'a7', dimension: 'A', score: 1 }, { id: 'a8', dimension: 'A', score: -1 },
            { id: 'c1', dimension: 'C', score: 1 }, { id: 'c2', dimension: 'C', score: 1 }, { id: 'c3', dimension: 'C', score: -1 }, { id: 'c4', dimension: 'C', score: 1 }, { id: 'c5', dimension: 'C', score: -1 }, { id: 'c6', dimension: 'C', score: 1 }, { id: 'c7', dimension: 'C', score: -1 }, { id: 'c8', dimension: 'C', score: 1 },
            { id: 'o1', dimension: 'O', score: -1 }, { id: 'o2', dimension: 'O', score: 1 }, { id: 'o3', dimension: 'O', score: 1 }, { id: 'o4', dimension: 'O', score: 1 }, { id: 'o5', dimension: 'O', score: -1 }, { id: 'o6', dimension: 'O', score: 1 }, { id: 'o7', dimension: 'O', score: 1 }, { id: 'o8', dimension: 'O', score: -1 },
        ];
        const level2Questions = [
            { id: 's1', type: 'situational', options: [{ id: 's1a', dimension: 'X' }, { id: 's1b', dimension: 'A' }, { id: 's1c', dimension: 'E' }, { id: 's1d', dimension: 'O' }] },
            { id: 's2', type: 'situational', options: [{ id: 's2a', dimension: 'C' }, { id: 's2b', dimension: 'A' }, { id: 's2c', dimension: 'E' }, { id: 's2d', dimension: 'O' }] },
            { id: 's3', type: 'situational', options: [{ id: 's3a', dimension: 'H', score: -1 }, { id: 's3b', dimension: 'H', score: 1 }, { id: 's3c', dimension: 'C' }, { id: 's3d', dimension: 'E' }] },
            { id: 's4', type: 'situational', options: [{ id: 's4a', dimension: 'X' }, { id: 's4b', dimension: 'X', score: -1 }, { id: 's4c', dimension: 'E' }, { id: 's4d', dimension: 'O' }] },
            { id: 's5', type: 'situational', options: [{ id: 's5a', dimension: 'C' }, { id: 's5b', dimension: 'O' }, { id: 's5c', dimension: 'E' }, { id: 's5d', dimension: 'A' }] },
            { id: 's6', type: 'situational', options: [{ id: 's6a', dimension: 'H', score: 1 }, { id: 's6b', dimension: 'A' }, { id: 's6c', dimension: 'C' }, { id: 's6d', dimension: 'E' }] },
            { id: 's7', type: 'situational', options: [{ id: 's7a', dimension: 'X' }, { id: 's7b', dimension: 'C' }, { id: 's7c', dimension: 'O' }, { id: 's7d', dimension: 'X', score: -1 }] },
            { id: 's8', type: 'situational', options: [{ id: 's8a', dimension: 'H', score: 1 }, { id: 's8b', dimension: 'H', score: -1 }, { id: 's8c', dimension: 'C' }, { id: 's8d', dimension: 'E' }] },
            { id: 's9', type: 'situational', options: [{ id: 's9a', dimension: 'O' }, { id: 's9b', dimension: 'C' }, { id: 's9c', dimension: 'X' }, { id: 's9d', dimension: 'A' }] },
            { id: 's10', type: 'situational', options: [{ id: 's10a', dimension: 'H', score: 1 }, { id: 's10b', dimension: 'A', score: -1 }, { id: 's10c', dimension: 'A' }, { id: 's10d', dimension: 'X' }] },
            { id: 's11', type: 'situational', options: [{ id: 's11a', dimension: 'C' }, { id: 's11b', dimension: 'O' }, { id: 's11c', dimension: 'H', score: -1 }, { id: 's11d', dimension: 'E' }] },
            { id: 's12', type: 'situational', options: [{ id: 's12a', dimension: 'C' }, { id: 's12b', dimension: 'O' }, { id: 's12c', dimension: 'X' }, { id: 's12d', dimension: 'A' }] },
            { id: 's13', type: 'situational', options: [{ id: 's13a', dimension: 'E' }, { id: 's13b', dimension: 'C' }, { id: 's13c', dimension: 'X' }, { id: 's13d', dimension: 'O' }] },
            { id: 's14', type: 'situational', options: [{ id: 's14a', dimension: 'C' }, { id: 's14b', dimension: 'H', score: -1 }, { id: 's14c', dimension: 'X' }, { id: 's14d', dimension: 'A' }] }
        ];
        const level3Question = {
            id: 'n1', type: 'narrative',
            options: [ { id: 'n1a', choiceId: 'growth' }, { id: 'n1b', choiceId: 'redemption' }, { id: 'n1c', choiceId: 'agency' }, { id: 'n1d', choiceId: 'connection' } ]
        };

        const profiles = {
            H: { title: "The Principled Realist", color: "text-gray-700", bgColor: "bg-slate-100", high: { facets: ["Sincerity", "Fairness", "Modesty"], summary: "summary_H_high", breakdown: "breakdown_H_high" }, low: { facets: ["Strategic", "Status-Driven", "Pragmatic"], summary: "summary_H_low", breakdown: "breakdown_H_low" } },
            E: { title: "The Sensitive Soul", color: "text-purple-600", bgColor: "bg-purple-100", high: { facets: ["Empathy", "Fearfulness", "Sentimentality"], summary: "summary_E_high", breakdown: "breakdown_E_high" }, low: { facets: ["Bravery", "Confidence", "Stability"], summary: "summary_E_low", breakdown: "breakdown_E_low" } },
            X: { title: "The Social Catalyst", color: "text-orange-500", bgColor: "bg-orange-100", high: { facets: ["Sociability", "Liveliness", "Social Boldness"], summary: "summary_X_high", breakdown: "breakdown_X_high" }, low: { facets: ["Independence", "Reflection", "Reserve"], summary: "summary_X_low", breakdown: "breakdown_X_low" } },
            A: { title: "The Harmonizer", color: "text-green-500", bgColor: "bg-green-100", high: { facets: ["Patience", "Forgivingness", "Gentleness"], summary: "summary_A_high", breakdown: "breakdown_A_high" }, low: { facets: ["Independent", "Frank", "Assertive"], summary: "summary_A_low", breakdown: "breakdown_A_low" } },
            C: { title: "The Architect", color: "text-blue-600", bgColor: "bg-blue-100", high: { facets: ["Diligence", "Organization", "Perfectionism"], summary: "summary_C_high", breakdown: "breakdown_C_high" }, low: { facets: ["Flexibility", "Spontaneity", "Adaptability"], summary: "summary_C_low", breakdown: "breakdown_C_low" } },
            O: { title: "The Innovator", color: "text-indigo-500", bgColor: "bg-indigo-100", high: { facets: ["Creativity", "Inquisitiveness", "Unconventionality"], summary: "summary_O_high", breakdown: "breakdown_O_high" }, low: { facets: ["Pragmatism", "Tradition", "Concreteness"], summary: "summary_O_low", breakdown: "breakdown_O_low" } }
        };
        
        const translations = {
            en: {
                // UI Text
                homeTagline: "A Multi-Level Personality Assessment",
                whyUsTitle: "Why Choose Us?",
                whyUs1Title: "Based on Science", whyUs1Desc: "Our test is built on the HEXACO model, a robust framework trusted by psychologists for its accuracy and cross-cultural validity.",
                whyUs2Title: "Three-Level Analysis", whyUs2Desc: "We go beyond simple traits by analyzing your situational judgments and life story themes to create a truly holistic profile.",
                whyUs3Title: "Actionable Insights", whyUs3Desc: "Understand your strengths and potential challenges with clear, non-judgmental feedback designed for personal growth.",
                homeDescription: "Discover your unique strengths. Our analysis is based on the scientifically validated <strong>HEXACO model</strong> for a surprisingly accurate personality profile.",
                startBtn: "Start the Test!",
                footerText: "&copy; 2025 Great Mind Profile. All Rights Reserved.",
                progressPart1: "Part 1: Core Traits",
                progressPart2: "Part 2: Situational Judgement",
                progressPart3: "Part 3: Life Story",
                questionOf: "Question {current} of {total}",
                backBtn: "&larr; Back",
                resultsMainTitle: "Your Integrated Profile:",
                resultsBreakdownTitle: "Your Trait Breakdown",
                resultsNextStepsTitle: "Next Steps",
                downloadBtn: "Download Results",
                shareBtn: "Share with Friends",
                retakeBtn: "Retake Test",
                high: "High",
                low: "Low",
                subtypesPrefix: "Key Sub-Types:",
                level2Title: "In Action:",
                level2Summary: "Your responses to situational questions suggest that when faced with challenges, you tend to prioritize actions related to <strong>{profile}</strong>, reinforcing your core traits in your daily decisions.",
                level3Title: "Your Life Story:",
                level3Default: "You have a unique perspective on your life's journey.",
                shareMessage: "I took the Great Mind Profile test and my profile is \"{profile}\"! Check your personality test on www.test.com for free!",
                downloading: "Generating image...",
                downloaded: "Results image downloaded!",
                downloadError: "Could not download results.",
                sharing: "Shared successfully!",
                shareError: "Could not share results.",
                shareNotSupported: "Share feature not supported on this browser.",
                copiedToClipboard: "Link copied to clipboard!",
                copyError: "Could not copy link.",
                loadingText: "Analyzing Your Profile...",
                stronglyAgree: "Strongly Agree", agree: "Agree", neutral: "Neutral", disagree: "Disagree", stronglyDisagree: "Strongly Disagree",
                // Level 1 Questions
                h1: "I wouldn't use flattery to get ahead.", h2: "If I want something from someone, I will laugh at their worst jokes.", h3: "I feel a strong sense of entitlement for special treatment.", h4: "I would never accept a bribe, even if it were very large.", h5: "I'm not interested in showing off my wealth or status.", h6: "I'd be tempted to use counterfeit money if I were sure I could get away with it.", h7: "Having a lot of money is not especially important to me.", h8: "I would get a lot of pleasure from owning expensive luxury goods.", h9: "I think that I am an ordinary person who is no better than others.",
                e1: "I sometimes feel that I am a worthless person.", e2: "I worry a lot, even about things that are not very likely to happen.", e3: "I get very sentimental when watching emotional movies.", e4: "I remain calm in stressful situations.", e5: "I rarely feel sad or blue.", e6: "I am not a worrier.", e7: "I feel like crying when I see other people crying.", e8: "I am not easily frightened.", e9: "I tend to be a very anxious person.",
                x1: "I feel that I am an unpopular person.", x2: "In social situations, I'm usually the one who makes the first move.", x3: "I am the life of the party.", x4: "I prefer to be in the background.", x5: "I have a lot of energy.", x6: "I don't like to draw attention to myself.", x7: "I am a very enthusiastic person.", x8: "I enjoy being alone.",
                a1: "People sometimes tell me that I am too critical of others.", a2: "I tend to be lenient in my judgments of others.", a3: "I rarely hold a grudge, even against people who have harmed me.", a4: "I get angry easily.", a5: "I am a very patient person.", a6: "I am not a very forgiving person.", a7: "I am a very gentle person.", a8: "I am not a very cooperative person.",
                c1: "I often push myself to my limits when working on a task.", c2: "I am a very organized person.", c3: "I often make impulsive decisions.", c4: "I make sure my work is perfect, down to the last detail.", c5: "I am not a very disciplined person.", c6: "I am a very reliable person.", c7: "I am not a very careful person.", c8: "I am a very diligent person.",
                o1: "I would be bored by a visit to an art gallery.", o2: "I am fascinated by the beauty of nature.", o3: "I like to solve complex problems and puzzles.", o4: "I think of myself as a highly creative person.", o5: "I am not interested in abstract ideas.", o6: "I have a rich vocabulary.", o7: "I have a vivid imagination.", o8: "I am not interested in theoretical discussions.",
                // Level 2 Questions
                s1: "You're in a group discussion and someone publicly criticizes an idea you just presented. How do you respond?", s1a: "Defend your idea immediately and point out the flaws in their criticism.", s1b: "Acknowledge their point and suggest discussing it further after the discussion.", s1c: "Say nothing but feel discouraged for the rest of the discussion.", s1d: "Ask them to elaborate on their concerns so you can understand their perspective.",
                s2: "You have an important personal deadline approaching, but a close friend asks for your help with an urgent problem. What do you do?", s2a: "Politely explain your deadline and offer to help them as soon as it's done.", s2b: "Drop what you're doing immediately to help your friend; relationships are more important.", s2c: "Feel anxious and torn, trying to juggle both at once and not doing either well.", s2d: "Suggest an unconventional, quick solution for their problem so you can get back to your task.",
                s3: "You find a way to get something done much faster, but it involves bending a rule you've agreed to follow. What's your move?", s3a: "Use the faster method. The result is what matters most.", s3b: "Stick to the rules. An agreement is an agreement.", s3c: "Propose a formal change to the rule, explaining the benefits of the new method.", s3d: "Ask someone else for their opinion before doing anything.",
                s4: "You're invited to a large, noisy party where you only know one person. What's your game plan?", s4a: "Jump right in and start introducing yourself to new people.", s4b: "Find a quiet corner and observe people for a while before engaging.", s4c: "Stick close to the person you know all night.", s4d: "Find the most interesting-looking person and start a deep conversation.",
                s5: "Someone asks you for help with a complex task but gives you vague instructions. What is your first step?", s5a: "Create a detailed plan with your best assumptions and present it for their feedback.", s5b: "Start experimenting with different approaches to see what works best.", s5c: "Ask for clarification and specific examples before you begin.", s5d: "Collaborate with them to brainstorm ideas and figure it out together.",
                s6: "Someone in a group project isn't doing their share of the work, and it's affecting the outcome. How do you handle it?", s6a: "Confront them directly and honestly about the issue.", s6b: "Pick up their slack to avoid conflict and keep the project moving.", s6c: "Bring up the issue with the group to find a collective solution.", s6d: "Try to understand if they're struggling and offer your help.",
                s7: "You have a free weekend with no plans. How do you spend it?", s7a: "Call up friends and organize a group activity.", s7b: "Tackle a personal project or organize your home.", s7c: "Visit a museum, read a book on a new topic, or explore a new place.", s7d: "Relax at home and recharge your batteries in peace and quiet.",
                s8: "You made a significant mistake that affects others, but no one has noticed yet. What do you do?", s8a: "Own up to it immediately and propose a solution.", s8b: "Wait to see if anyone notices before saying anything.", s8c: "Try to fix it quietly without telling anyone.", s8d: "Worry endlessly about being discovered.",
                s9: "When faced with a difficult personal decision, you are most likely to:", s9a: "Trust your gut feelings and intuition.", s9b: "Create a pro-con list and analyze it logically.", s9c: "Talk it through with several friends to get their opinions.", s9d: "Choose the option that will cause the least conflict with others.",
                s10: "Someone cuts in front of you in a long line. Your immediate reaction is to:", s10a: "Politely point out that there is a line and you were next.", s10b: "Say nothing, but be visibly annoyed and complain to the person behind you.", s10c: "Let it go. It's not worth the confrontation.", s10d: "Loudly call them out so everyone in line knows what they did.",
                s11: "You have a choice between a life path that is stable and secure, and another that is riskier but more exciting. You choose:", s11a: "The stable and secure path. Predictability is important.", s11b: "The risky but exciting path. You thrive on new challenges.", s11c: "The path that offers the greatest personal gain, regardless of risk.", s11d: "The path that your mentors and family think is best for you.",
                s12: "When learning a new skill, you prefer to:", s12a: "Follow a structured course with clear steps and objectives.", s12b: "Jump in and learn through trial and error.", s12c: "Learn with a group or a partner.", s12d: "Find a teacher or mentor you trust and follow their guidance.",
                s13: "A friend is telling you about a problem, you are most likely to:", s13a: "Listen patiently and offer emotional support.", s13b: "Immediately start brainstorming practical solutions for them.", s13c: "Share a story of a similar experience you had.", s13d: "Help them see the problem from a completely different perspective.",
                s14: "You've just received a significant financial gift. Your first instinct is to:", s14a: "Put it into a savings or investment account.", s14b: "Splurge on a luxury item or a lavish vacation.", s14c: "Throw a big party for your friends and family.", s14d: "Donate a portion to a cause you care about.",
                // Level 3 Question
                n1: "Which of these core themes best reflects your personal life story so far?", n1a: "<strong>Growth:</strong> A story of overcoming challenges and continuously improving yourself.", n1b: "<strong>Redemption:</strong> A story of recovering from a negative event that ultimately led to a positive outcome.", n1c: "<strong>Agency:</strong> A story of taking control of your life and shaping your own destiny.", n1d: "<strong>Connection:</strong> A story of finding meaning through deep, supportive relationships with others.",
                // Profiles
                "The Principled Realist": "The Principled Realist", "The Sensitive Soul": "The Sensitive Soul", "The Social Catalyst": "The Social Catalyst", "The Harmonizer": "The Harmonizer", "The Architect": "The Architect", "The Innovator": "The Innovator",
                "Sincerity": "Sincerity", "Fairness": "Fairness", "Modesty": "Modesty", "Strategic": "Strategic", "Status-Driven": "Status-Driven", "Pragmatic": "Pragmatic", "Empathy": "Empathy", "Fearfulness": "Fearfulness", "Sentimentality": "Sentimentality", "Bravery": "Bravery", "Confidence": "Confidence", "Stability": "Stability", "Sociability": "Sociability", "Liveliness": "Liveliness", "Social Boldness": "Social Boldness", "Independence": "Independence", "Reflection": "Reflection", "Reserve": "Reserve", "Patience": "Patience", "Forgivingness": "Forgivingness", "Gentleness": "Gentleness", "Independent": "Independent", "Frank": "Frank", "Assertive": "Assertive", "Diligence": "Diligence", "Organization": "Organization", "Perfectionism": "Perfectionism", "Flexibility": "Flexibility", "Spontaneity": "Spontaneity", "Adaptability": "Adaptability", "Creativity": "Creativity", "Inquisitiveness": "Inquisitiveness", "Unconventionality": "Unconventionality", "Pragmatism": "Pragmatism", "Tradition": "Tradition", "Concreteness": "Concreteness",
                "Honesty-Humility": "Honesty-Humility", "Emotionality": "Emotionality", "Extraversion": "Extraversion", "Agreeableness": "Agreeableness", "Conscientiousness": "Conscientiousness", "Openness to Experience": "Openness to Experience",
                // Breakdowns
                "breakdown_H_high": "Your high score in <strong>Honesty-Humility</strong> shows you are sincere and principled. <strong>Strength:</strong> You build trust easily and are seen as a fair-minded person. <strong>Challenge:</strong> You might be uncomfortable in environments that require competitive self-promotion or aggressive tactics.",
                "breakdown_H_low": "Your low score in <strong>Honesty-Humility</strong> suggests you are strategic and self-assured. <strong>Strength:</strong> You are effective at navigating competitive situations and are not easily taken advantage of. <strong>Challenge:</strong> Others might sometimes perceive your actions as manipulative or overly self-interested.",
                "breakdown_E_high": "Your high score in <strong>Emotionality</strong> indicates you are empathetic and sensitive. <strong>Strength:</strong> Your ability to connect with others' feelings and your caution can help you avoid risky situations. <strong>Challenge:</strong> You may be prone to anxiety or worry, which can sometimes be overwhelming.",
                "breakdown_E_low": "Your low score in <strong>Emotionality</strong> shows you are brave and emotionally stable. <strong>Strength:</strong> You are a rock for others during a crisis and can handle high-pressure environments. <strong>Challenge:</strong> You might sometimes find it difficult to understand or express deeper, more vulnerable emotions.",
                "breakdown_X_high": "Your high score in <strong>Extraversion</strong> means you are outgoing and socially confident. <strong>Strength:</strong> You are a natural leader and networker, able to inspire and energize groups. <strong>Challenge:</strong> You may feel under-stimulated or bored when spending time alone.",
                "breakdown_X_low": "Your low score in <strong>Extraversion</strong> suggests you are independent and reflective. <strong>Strength:</strong> You are comfortable with your own company and can focus deeply on tasks without social distraction. <strong>Challenge:</strong> You might be overlooked in large group settings or find it draining to engage in extensive social activities.",
                "breakdown_A_high": "Your high score in <strong>Agreeableness</strong> shows you are gentle and accommodating. <strong>Strength:</strong> You are an excellent team player and a supportive friend, able to smooth over conflicts. <strong>Challenge:</strong> Your reluctance to criticize might lead you to be overly tolerant of others' faults.",
                "breakdown_A_low": "Your low score in <strong>Agreeableness</strong> indicates you are independent-minded and frank. <strong>Strength:</strong> Your willingness to critique can lead to better outcomes and prevent bad decisions. <strong>Challenge:</strong> Others may sometimes see you as stubborn or argumentative.",
                "breakdown_C_high": "Your high score in <strong>Conscientiousness</strong> means you are organized and industrious. <strong>Strength:</strong> You are highly reliable and can be counted on to get the job done right. <strong>Challenge:</strong> You might be prone to perfectionism or find it difficult to adapt when plans change unexpectedly.",
                "breakdown_C_low": "Your low score in <strong>Conscientiousness</strong> suggests you are flexible and spontaneous. <strong>Strength:</strong> You are highly adaptable and can thrive in unpredictable environments. <strong>Challenge:</strong> You may struggle with disorganization or have difficulty meeting deadlines.",
                "breakdown_O_high": "Your high score in <strong>Openness to Experience</strong> shows you are creative and inquisitive. <strong>Strength:</strong> You are a natural innovator, able to see possibilities that others miss. <strong>Challenge:</strong> You might sometimes be seen as impractical or find it difficult to focus on routine tasks.",
                "breakdown_O_low": "Your low score in <strong>Openness to Experience</strong> indicates you are pragmatic and conventional. <strong>Strength:</strong> You bring a grounded, common-sense approach to problems. <strong>Challenge:</strong> You may be resistant to change or overlook novel solutions.",
                // Summaries
                "summary_H_high": "You are guided by a strong sense of fairness and sincerity. You prefer to cooperate with others on equal terms, without a desire for special status or wealth. This makes you a trustworthy and genuine individual.",
                "summary_H_low": "You are a pragmatic and adaptable individual, comfortable with social hierarchies and using strategy to achieve your goals. You are not afraid to leverage situations to your advantage and are motivated by personal success.",
                "summary_E_high": "You are highly attuned to your emotions and the world around you. You experience feelings deeply, which allows you to form strong empathetic connections with others and be sensitive to potential dangers.",
                "summary_E_low": "You are emotionally resilient and remain calm even in stressful situations. You face challenges with a steady demeanor and are not easily rattled by physical or social threats.",
                "summary_X_high": "You are energetic, enthusiastic, and thrive in social settings. You naturally take the lead, enjoy being the center of attention, and draw energy from being around other people.",
                "summary_X_low": "You are thoughtful and reserved, preferring quiet environments and meaningful one-on-one interactions over large social gatherings. You find your energy in reflection and solitude.",
                "summary_A_high": "You are patient, cooperative, and easy-going. You are willing to compromise and forgive, and you generally avoid confrontation, preferring to maintain harmonious relationships with others.",
                "summary_A_low": "You are a direct and independent thinker who is not afraid to challenge others and express a critical opinion. You hold firm to your beliefs and are willing to engage in arguments to defend your point of view.",
                "summary_C_high": "You are organized, disciplined, and goal-oriented. You approach tasks with a structured plan and are driven to achieve a high standard of work, making you a reliable and diligent individual.",
                "summary_C_low": "You are flexible and spontaneous, comfortable with a lack of structure and able to adapt to changing priorities. You are not overly concerned with rules and prefer to live in the moment.",
                "summary_O_high": "You are intellectually curious, creative, and open to unconventional ideas and new experiences. You have a deep appreciation for beauty, art, and abstract thinking.",
                "summary_O_low": "You are practical, down-to-earth, and prefer the conventional and familiar. You find value in tradition and are most comfortable with straightforward, concrete solutions.",
                // Narratives
                "growth": "Your life story is one of <strong>Growth</strong>. This indicates you see life as a journey of learning and self-development, viewing challenges not as setbacks, but as opportunities to become a better version of yourself.",
                "redemption": "Your life story follows a theme of <strong>Redemption</strong>. This suggests you have faced significant adversity but have found positive meaning and strength from it, turning a negative past into a positive future.",
                "agency": "Your life story is driven by a theme of <strong>Agency</strong>. You see yourself as the author of your own destiny, actively making choices and taking actions to create the life you want to live.",
                "connection": "Your life story is centered on the theme of <strong>Connection</strong>. You find your greatest sense of purpose and meaning in forming deep, supportive, and lasting bonds with friends, family, and your community."
            }
        };

        // --- 16 Personalities Test Data ---
        const personalityQuestions = [
            { text: "You find it difficult to introduce yourself to other people.", dimension: 'M', score: -1 }, { text: "You often get so lost in thought that you ignore or forget your surroundings.", dimension: 'E', score: 1 }, { text: "You try to respond to your e-mails as soon as possible and cannot stand a messy inbox.", dimension: 'T', score: 1 }, { text: "You find it easy to stay relaxed and focused even when there is some pressure.", dimension: 'M', score: 1 }, { text: "You do not usually initiate conversations.", dimension: 'M', score: -1 }, { text: "You rarely do something just out of sheer curiosity.", dimension: 'E', score: -1 }, { text: "You feel superior to other people.", dimension: 'N', score: -1 }, { text: "Being organized is more important to you than being adaptable.", dimension: 'T', score: 1 }, { text: "You are usually highly motivated and energetic.", dimension: 'M', score: 1 }, { text: "Winning a debate matters less to you than making sure no one gets upset.", dimension: 'N', score: 1 }, { text: "You often feel as if you have to justify yourself to other people.", dimension: 'N', score: 1 }, { text: "Your home and work environments are quite tidy.", dimension: 'T', score: 1 }, { text: "You do not mind being at the center of attention.", dimension: 'M', score: 1 }, { text: "You consider yourself more practical than creative.", dimension: 'E', score: -1 }, { text: "People can rarely upset you.", dimension: 'N', score: -1 }, { text: "Your travel plans are usually well thought out.", dimension: 'T', score: 1 }, { text: "It is often difficult for you to relate to other peopleâ€™s feelings.", dimension: 'N', score: -1 }, { text: "Your mood can change very quickly.", dimension: 'M', score: -1 }, { text: "In a discussion, truth should be more important than peopleâ€™s sensitivities.", dimension: 'N', score: -1 }, { text: "You rarely worry about how your actions affect other people.", dimension: 'N', score: -1 }, { text: "Your work style is closer to random energy spikes than to a methodical and organized approach.", dimension: 'T', score: -1 }, { text: "You are often envious of others.", dimension: 'N', score: 1 }, { text: "An interesting book or a video game is often better than a social event.", dimension: 'M', score: -1 }, { text: "Being able to develop a plan and stick to it is the most important part of every project.", dimension: 'T', score: 1 }, { text: "You can be easily distracted.", dimension: 'T', score: -1 }, { text: "You are not a fan of hypotheticals and what-ifs.", dimension: 'E', score: -1 }, { text: "You usually find it difficult to relax when talking in front of many people.", dimension: 'M', score: -1 }, { text: "Generally speaking, you rely more on your experience than your imagination.", dimension: 'E', score: -1 }, { text: "You worry too much about what other people think.", dimension: 'N', score: 1 }, { text: "If the room is full, you stay closer to the walls, avoiding the center.", dimension: 'M', score: -1 }, { text: "You have a tendency to procrastinate.", dimension: 'T', score: -1 }, { text: "You feel very anxious in stressful situations.", dimension: 'M', score: -1 }, { text: "You believe that it is more rewarding to be liked by others than to be powerful.", dimension: 'N', score: 1 }, { text: "You have always been interested in unconventional and ambiguous things, e.g., in books, art, or movies.", dimension: 'E', score: 1 }, { text: "You often take initiative in social situations.", dimension: 'M', score: 1 }, { text: "You prefer to do your chores before allowing yourself to relax.", dimension: 'T', score: 1 }, { text: "You are empathetic.", dimension: 'N', score: 1 }, { text: "You enjoy vibrant social events with lots of people.", dimension: 'M', score: 1 }, { text: "You often have a hard time understanding other people's feelings.", dimension: 'N', score: -1 }, { text: "You like to have a to-do list for each day.", dimension: 'T', score: 1 }, { text: "You rarely feel insecure.", dimension: 'M', score: 1 }, { text: "You avoid making phone calls.", dimension: 'M', score: -1 }, { text: "You really enjoy debating.", dimension: 'N', score: -1 }, { text: "You often find yourself lost in thought when you are walking in nature.", dimension: 'E', score: 1 }, { text: "If someone does not respond to your e-mail quickly, you start worrying if you said something wrong.", dimension: 'N', score: 1 }, { text: "As a parent, you would rather see your child grow up kind than smart.", dimension: 'N', score: 1 }, { text: "You do not let other people influence your actions.", dimension: 'N', score: -1 }, { text: "Your dreams tend to focus on the real world and its events.", dimension: 'E', score: -1 }, { text: "It does not take you long to start getting involved in social activities at your new workplace.", dimension: 'M', score: 1 }, { text: "You are more of a natural improviser than a careful planner.", dimension: 'T', score: -1 }
        ];

        const personalityTypeColors = {
            Analysts: 'from-purple-500 to-indigo-600',
            Diplomats: 'from-green-400 to-teal-500',
            Sentinels: 'from-blue-500 to-sky-600',
            Explorers: 'from-yellow-400 to-orange-500',
        };

        const personalityTypes = {
            "ISTJ": { name: "The Inspector", group: "Sentinels", description: "Practical and fact-minded individuals, whose reliability cannot be doubted. They are responsible organizers, driven to create and enforce order within systems and institutions.", strengths: ["Responsible", "Calm", "Methodical"], weaknesses: ["Stubborn", "Insensitive", "Judgmental"], careers: ["Accountant", "Librarian", "Civil Engineer"], famous: ["George Washington", "Angela Merkel", "Sting"] },
            "ISFJ": { name: "The Protector", group: "Sentinels", description: "Very dedicated and warm protectors, always ready to defend their loved ones. They are meticulous and supportive, often found in roles where they can care for others.", strengths: ["Supportive", "Reliable", "Patient"], weaknesses: ["Overly Humble", "Repress Feelings", "Resistant to Change"], careers: ["Nurse", "Teacher", "Social Worker"], famous: ["Queen Elizabeth II", "Mother Teresa", "BeyoncÃ©"] },
            "INFJ": { name: "The Advocate", group: "Diplomats", description: "Quiet and mystical, yet very inspiring and tireless idealists. They have an inborn sense of idealism and morality, but what sets them apart is they are not idle dreamers.", strengths: ["Creative", "Insightful", "Principled"], weaknesses: ["Perfectionistic", "Sensitive", "Private"], careers: ["Counselor", "Writer", "Psychologist"], famous: ["Martin Luther King Jr.", "Nelson Mandela", "Lady Gaga"] },
            "INTJ": { name: "The Architect", group: "Analysts", description: "Imaginative and strategic thinkers, with a plan for everything. They have a thirst for knowledge and are confident in their ability to use their minds to achieve their goals.", strengths: ["Strategic", "Independent", "Decisive"], weaknesses: ["Arrogant", "Overly Critical", "Clueless in Romance"], careers: ["Scientist", "Strategist", "Professor"], famous: ["Isaac Newton", "Elon Musk", "Friedrich Nietzsche"] },
            "ISTP": { name: "The Crafter", group: "Explorers", description: "Bold and practical experimenters, masters of all kinds of tools. They love to explore with their hands and their eyes, touching and examining the world around them with cool rationalism.", strengths: ["Optimistic", "Practical", "Spontaneous"], weaknesses: ["Private", "Easily Bored", "Risk-prone"], careers: ["Mechanic", "Pilot", "Paramedic"], famous: ["Clint Eastwood", "Michael Jordan", "Tom Cruise"] },
            "ISFP": { name: "The Artist", group: "Explorers", description: "Flexible and charming artists, always ready to explore and experience something new. They live in a colorful, sensual world, inspired by connections with people and ideas.", strengths: ["Charming", "Imaginative", "Curious"], weaknesses: ["Unpredictable", "Easily Stressed", "Overly Competitive"], careers: ["Artist", "Musician", "Fashion Designer"], famous: ["Michael Jackson", "Britney Spears", "Frida Kahlo"] },
            "INFP": { name: "The Mediator", group: "Diplomats", description: "Poetic, kind, and altruistic people, always eager to help a good cause. They are guided by their principles, rather than by logic, excitement, or practicality.", strengths: ["Empathetic", "Generous", "Open-Minded"], weaknesses: ["Unrealistic", "Self-Isolating", "Impractical"], careers: ["Writer", "Therapist", "Graphic Designer"], famous: ["William Shakespeare", "J.R.R. Tolkien", "Johnny Depp"] },
            "INTP": { name: "The Thinker", group: "Analysts", description: "Innovative inventors with an unquenchable thirst for knowledge. They are known for their brilliant theories and unrelenting logic, which they use to understand the world.", strengths: ["Analytical", "Objective", "Imaginative"], weaknesses: ["Absent-minded", "Insensitive", "Condescending"], careers: ["Physicist", "Programmer", "Philosopher"], famous: ["Albert Einstein", "Bill Gates", "RenÃ© Descartes"] },
            "ESTP": { name: "The Persuader", group: "Explorers", description: "Smart, energetic, and very perceptive people, who truly enjoy living on the edge. They are the life of the party, with a love for drama, passion, and pleasure.", strengths: ["Bold", "Direct", "Sociable"], weaknesses: ["Impatient", "Risk-prone", "Unstructured"], careers: ["Entrepreneur", "Sales Representative", "Detective"], famous: ["Donald Trump", "Madonna", "Jack Nicholson"] },
            "ESFP": { name: "The Entertainer", group: "Explorers", description: "Spontaneous, energetic, and enthusiastic people â€“ life is never boring around them. They love the spotlight and are always ready to put on a show for others.", strengths: ["Original", "Aesthetics-oriented", "Showmanlike"], weaknesses: ["Sensitive", "Conflict-averse", "Easily Bored"], careers: ["Actor", "Event Planner", "Tour Guide"], famous: ["Marilyn Monroe", "Adele", "Jamie Oliver"] },
            "ENFP": { name: "The Champion", group: "Diplomats", description: "Enthusiastic, creative, and sociable free spirits, who can always find a reason to smile. They are charming, independent, energetic, and compassionate.", strengths: ["Curious", "Observant", "Energetic"], weaknesses: ["Overly Optimistic", "Disorganized", "Stressed Out"], careers: ["Journalist", "Politician", "Actor"], famous: ["Robert Downey Jr.", "Will Smith", "Robin Williams"] },
            "ENTP": { name: "The Debater", group: "Analysts", description: "Smart and curious thinkers who cannot resist an intellectual challenge. They are the ultimate devil's advocate, thriving on the process of shredding arguments and beliefs.", strengths: ["Knowledgeable", "Quick Thinker", "Charismatic"], weaknesses: ["Argumentative", "Insensitive", "Intolerant"], careers: ["Lawyer", "Consultant", "Entrepreneur"], famous: ["Socrates", "Leonardo da Vinci", "Steve Wozniak"] },
            "ESTJ": { name: "The Director", group: "Sentinels", description: "Excellent administrators, unsurpassed at managing things or people. They are representatives of tradition and order, using their understanding of what is right, wrong, and socially acceptable.", strengths: ["Dedicated", "Strong-willed", "Honest"], weaknesses: ["Inflexible", "Judgmental", "Difficulty Relaxing"], careers: ["Judge", "CEO", "Military Officer"], famous: ["Sonia Sotomayor", "James Monroe", "Michelle Obama"] },
            "ESFJ": { name: "The Caregiver", group: "Sentinels", description: "Extraordinarily caring, social, and popular people, always eager to help. They are the cheerleaders of the world, taking care to make sure everyone feels included and valued.", strengths: ["Loyal", "Sensitive", "Good at Connecting"], weaknesses: ["Needy", "Inflexible", "Vulnerable to Criticism"], careers: ["Teacher", "Nurse", "Event Coordinator"], famous: ["Taylor Swift", "Jennifer Lopez", "Joe Biden"] },
            "ENFJ": { name: "The Giver", group: "Diplomats", description: "Charismatic and inspiring leaders, able to mesmerize their listeners. They are full of passion and charisma, forming a natural confidence that begets influence.", strengths: ["Reliable", "Charismatic", "Altruistic"], weaknesses: ["Overly Idealistic", "Too Selfless", "Sensitive"], careers: ["Teacher", "Politician", "Life Coach"], famous: ["Barack Obama", "Oprah Winfrey", "Martin Luther King Jr."] },
            "ENTJ": { name: "The Commander", group: "Analysts", description: "Bold, imaginative, and strong-willed leaders, always finding a way â€“ or making one. They are decisive people who love a good challenge, big or small.", strengths: ["Efficient", "Energetic", "Self-Confident"], weaknesses: ["Stubborn", "Impatient", "Arrogant"], careers: ["CEO", "Lawyer", "Military Commander"], famous: ["Steve Jobs", "Margaret Thatcher", "Franklin D. Roosevelt"] }
        };

        // --- Global Application State & Logic ---
        let questions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let scores = { H: 0, E: 0, X: 0, A: 0, C: 0, O: 0 };
        let maxScores = { H: 0, E: 0, X: 0, A: 0, C: 0, O: 0 };
        let narrativeChoice = '';
        
        let personalityScores = { M: 0, E: 0, N: 0, T: 0 };
        let currentPersonalityQuestionIndex = 0;
        let personalityUserAnswers = [];

        // --- Element Selectors ---
        const homepageContainerEl = document.getElementById('homepage-container');
        const testContainerEl = document.getElementById('test-container');
        const resultsContainerEl = document.getElementById('results-container');
        const loadingContainerEl = document.getElementById('loading-container');
        const loadingBarInnerEl = document.getElementById('loading-bar-inner');
        const backBtn = document.getElementById('back-btn');
        const questionTextEl = document.getElementById('question-text');
        const answerOptionsEl = document.getElementById('answer-options');
        const progressBarEl = document.getElementById('progress-bar');
        const progressTextEl = document.getElementById('progress-text');
        const progressTitleEl = document.getElementById('progress-title');
        const profileTitleEl = document.getElementById('profile-title');
        const profileSubtypesEl = document.getElementById('profile-subtypes');
        const profileSummaryEl = document.getElementById('profile-summary');
        const level2SummaryEl = document.getElementById('level2-summary');
        const level3SummaryEl = document.getElementById('level3-summary');
        const traitDetailsEl = document.getElementById('trait-details');
        const downloadBtn = document.getElementById('download-btn');
        const shareMessageEl = document.getElementById('share-message');
        const burgerMenu = document.getElementById('burger-menu');
        const sidebar = document.getElementById('sidebar');
        const navLogo = document.getElementById('nav-logo');
        const navHome = document.getElementById('nav-home');
        const navAbout = document.getElementById('nav-about');
        const sidebarHome = document.getElementById('sidebar-home');
        const sidebarAbout = document.getElementById('sidebar-about');
        const goTo16pTestBtn = document.getElementById('go-to-16p-test-btn');
        const goToHexacoTestBtn = document.getElementById('go-to-hexaco-test-btn');
        const homeStartHexacoBtn = document.getElementById('home-start-hexaco-btn');
        const homeStart16pBtn = document.getElementById('home-start-16p-btn');
        const learnMoreHexacoBtn = document.getElementById('learn-more-hexaco-btn');
        const learnMore16pBtn = document.getElementById('learn-more-16p-btn');
        const hexacoDetailsContainerEl = document.getElementById('hexaco-details-container');
        const personalityDetailsContainerEl = document.getElementById('personality-details-container');
        const aboutUsContainerEl = document.getElementById('about-us-container');
        const backToHomeBtn = document.getElementById('back-to-home-btn');
        const closeSidebarBtn = document.getElementById('close-sidebar-btn');
        
        // 16 Personalities Elements
        const personalityTestContainerEl = document.getElementById('personality-test-container');
        const personalityIntroEl = document.getElementById('personality-intro');
        const startPersonalityTestBtn = document.getElementById('start-personality-test-btn');
        const personalityQuestionContainerEl = document.getElementById('personality-question-container');
        const personalityProgressBarEl = document.getElementById('personality-progress-bar');
        const personalityProgressTextEl = document.getElementById('personality-progress-text');
        const personalityQuestionTextEl = document.getElementById('personality-question-text');
        const personalityAnswerOptionsEl = document.getElementById('personality-answer-options');
        const personalityResultsContainerEl = document.getElementById('personality-results-container');
        const personalityTypeTitleEl = document.getElementById('personality-type-title');
        const personalityTypeNameEl = document.getElementById('personality-type-name');
        const personalityTypeDescriptionEl = document.getElementById('personality-type-description');
        const personalityStrengthsEl = document.getElementById('personality-strengths');
        const personalityWeaknessesEl = document.getElementById('personality-weaknesses');
        const personalityCareersEl = document.getElementById('personality-careers');
        const personalityFamousEl = document.getElementById('personality-famous');
        const personalityBackBtn = document.getElementById('personality-back-btn');
        const downloadPersonalityBtn = document.getElementById('download-personality-btn');
        const personalityShareMessageEl = document.getElementById('personality-share-message');


        function setInitialUIText() {
            const t = translations.en;
            document.getElementById('footer-text').innerHTML = t.footerText;
            backBtn.innerHTML = t.backBtn;
            document.getElementById('loading-text').textContent = t.loadingText;
        }

        function getTranslation(key, replacements = {}) {
            let text = translations.en[key] || `[${key}]`;
            for (const placeholder in replacements) {
                text = text.replace(`{${placeholder}}`, replacements[placeholder]);
            }
            return text;
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        function startTest() {
            questions = [
                ...shuffleArray([...level1Questions]),
                ...shuffleArray([...level2Questions]),
                level3Question
            ];
            userAnswers = [];
            scores = { H: 0, E: 0, X: 0, A: 0, C: 0, O: 0 };
            maxScores = { H: 0, E: 0, X: 0, A: 0, C: 0, O: 0 };
            narrativeChoice = '';
            
            level1Questions.forEach(q => { maxScores[q.dimension] += 5; });
            currentQuestionIndex = 0;
            
            hideAllContainers();
            testContainerEl.style.display = 'flex';
            showQuestion();
        }

        function showQuestion() {
            backBtn.style.visibility = currentQuestionIndex === 0 ? 'hidden' : 'visible';
            
            if (currentQuestionIndex < questions.length) {
                const question = questions[currentQuestionIndex];
                questionTextEl.textContent = getTranslation(question.id);
                
                if (currentQuestionIndex < level1Questions.length) {
                    progressTitleEl.textContent = getTranslation('progressPart1');
                } else if (currentQuestionIndex < level1Questions.length + level2Questions.length) {
                    progressTitleEl.textContent = getTranslation('progressPart2');
                } else {
                    progressTitleEl.textContent = getTranslation('progressPart3');
                }

                const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
                progressBarEl.style.width = `${progress}%`;
                progressTextEl.textContent = getTranslation('questionOf', { current: currentQuestionIndex + 1, total: questions.length });

                renderAnswerOptions(question);
            } else {
                showLoadingAndResults(showResults);
            }
        }

        function renderAnswerOptions(question) {
            answerOptionsEl.innerHTML = '';
            const choiceColors = ['bg-blue-100 text-blue-800 hover:bg-blue-200', 'bg-green-100 text-green-800 hover:bg-green-200', 'bg-yellow-100 text-yellow-800 hover:bg-yellow-200', 'bg-red-100 text-red-800 hover:bg-red-200'];

            if (question.type === 'situational' || question.type === 'narrative') {
                question.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.innerHTML = getTranslation(option.id);
                    button.className = `choice-btn ${choiceColors[index % choiceColors.length]}`;
                    button.onclick = () => handleChoiceClick(option);
                    answerOptionsEl.appendChild(button);
                });
            } else {
                const buttonHTML = `
                    <div class="grid grid-cols-1 sm:grid-cols-5 gap-3 text-center">
                        <button data-value="5" class="answer-btn bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-full transition-transform transform hover:scale-105">${getTranslation('stronglyAgree')}</button>
                        <button data-value="4" class="answer-btn bg-green-300 hover:bg-green-400 text-white font-bold py-3 px-4 rounded-full transition-transform transform hover:scale-105">${getTranslation('agree')}</button>
                        <button data-value="3" class="answer-btn bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-4 rounded-full transition-transform transform hover:scale-105">${getTranslation('neutral')}</button>
                        <button data-value="2" class="answer-btn bg-red-300 hover:bg-red-400 text-white font-bold py-3 px-4 rounded-full transition-transform transform hover:scale-105">${getTranslation('disagree')}</button>
                        <button data-value="1" class="answer-btn bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-4 rounded-full transition-transform transform hover:scale-105">${getTranslation('stronglyDisagree')}</button>
                    </div>
                `;
                answerOptionsEl.innerHTML = buttonHTML;
                answerOptionsEl.querySelectorAll('.answer-btn').forEach(btn => {
                    btn.addEventListener('click', handleAnswerClick);
                });
            }
        }

        function handleAnswerClick(e) {
            const selectedValue = parseInt(e.target.getAttribute('data-value'));
            const question = questions[currentQuestionIndex];
            const scoreValue = question.score === 1 ? selectedValue : 6 - selectedValue;
            
            userAnswers.push({ type: 'level1', dimension: question.dimension, value: scoreValue });
            scores[question.dimension] += scoreValue;
            
            currentQuestionIndex++;
            showQuestion();
        }
        
        function handleChoiceClick(option) {
            const question = questions[currentQuestionIndex];
            if (question.type === 'situational') {
                const scoreValue = option.score || 1; 
                scores[option.dimension] += scoreValue;
                userAnswers.push({ type: 'level2', dimension: option.dimension, value: scoreValue });
            } else if (question.type === 'narrative') {
                narrativeChoice = option.choiceId;
                userAnswers.push({ type: 'level3', choice: option.choiceId });
            }
            currentQuestionIndex++;
            showQuestion();
        }

        function handleBackClick() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                const lastAnswer = userAnswers.pop();
                if (lastAnswer) {
                    if (lastAnswer.type === 'level1' || lastAnswer.type === 'level2') {
                       scores[lastAnswer.dimension] -= lastAnswer.value;
                    } else if (lastAnswer.type === 'level3') {
                        narrativeChoice = '';
                    }
                }
                showQuestion();
            }
        }

        function showLoadingAndResults(showResultsFunction) {
            hideAllContainers();
            loadingContainerEl.style.display = 'flex';
            
            let progress = 0;
            loadingBarInnerEl.style.width = '0%';
            const interval = setInterval(() => {
                progress += 1;
                loadingBarInnerEl.style.width = `${progress}%`;
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        loadingContainerEl.style.display = 'none';
                        showResultsFunction();
                    }, 500);
                }
            }, 20);
        }

        function showResults() {
            resultsContainerEl.style.display = 'block';
            resultsContainerEl.classList.add('fade-in');

            let primaryProfile = 'H';
            let highestScore = -1;

            let level1Scores = { H: 0, E: 0, X: 0, A: 0, C: 0, O: 0 };
            let level2Counts = { H: 0, E: 0, X: 0, A: 0, C: 0, O: 0 };

            userAnswers.forEach(ans => {
                if(ans.type === 'level1'){
                    level1Scores[ans.dimension] += ans.value;
                } else if(ans.type === 'level2'){
                    level2Counts[ans.dimension]++;
                }
            });
            
            for (const dim in level1Scores) {
                if (maxScores[dim] > 0) {
                    const normalizedScore = (level1Scores[dim] / maxScores[dim]) * 100;
                    if (normalizedScore > highestScore) {
                        highestScore = normalizedScore;
                        primaryProfile = dim;
                    }
                }
            }
            
            const isPrimaryHigh = (level1Scores[primaryProfile] / maxScores[primaryProfile]) * 100 >= 50;
            const mainProfileData = profiles[primaryProfile];
            
            const profileColor = mainProfileData.color;
            profileTitleEl.className = 'text-2xl md:text-3xl font-bold text-center mb-2';
            profileTitleEl.classList.add(profileColor);

            profileTitleEl.textContent = getTranslation(mainProfileData.title);
            const facetsData = mainProfileData[isPrimaryHigh ? 'high' : 'low'].facets;
            profileSubtypesEl.innerHTML = `${getTranslation('subtypesPrefix')} ${facetsData.map(f => `<strong>${getTranslation(f)}</strong>`).join(', ')}`;
            profileSummaryEl.textContent = getTranslation(mainProfileData[isPrimaryHigh ? 'high' : 'low'].summary);
            
            let level2PrimaryDim = Object.keys(level2Counts).reduce((a, b) => level2Counts[a] > level2Counts[b] ? a : b);
            level2SummaryEl.innerHTML = `<h4 class="font-bold text-lg mb-2">${getTranslation('level2Title')}</h4><p>${getTranslation('level2Summary', {profile: getTranslation(profiles[level2PrimaryDim].title).toLowerCase()})}</p>`;
            level3SummaryEl.innerHTML = `<h4 class="font-bold text-lg mb-2">${getTranslation('level3Title')}</h4><p>${getTranslation(narrativeChoice) || getTranslation('level3Default')}</p>`;

            traitDetailsEl.innerHTML = '';
            const dimensionNames = {
                H: 'Honesty-Humility', E: 'Emotionality', X: 'Extraversion',
                A: 'Agreeableness', C: 'Conscientiousness', O: 'Openness to Experience'
            };

            for (const dim in level1Scores) {
                if (maxScores[dim] > 0) {
                    const normalizedScore = (level1Scores[dim] / maxScores[dim]) * 100;
                    const isHigh = normalizedScore >= 50;
                    const breakdownText = getTranslation(profiles[dim][isHigh ? 'high' : 'low'].breakdown);
                    const breakdownColor = profiles[dim].bgColor;

                    const traitHtml = `
                        <div class="p-4 rounded-xl shadow-sm ${breakdownColor}">
                            <div class="flex justify-between items-end mb-1">
                                <h4 class="text-lg font-bold">${getTranslation(dimensionNames[dim])}</h4>
                                <span class="font-semibold text-gray-600">${getTranslation(isHigh ? 'high' : 'low')}</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-4 mb-2">
                                <div class="score-bar-gradient h-4 rounded-full" style="width: ${normalizedScore}%"></div>
                            </div>
                            <p class="text-gray-600">${breakdownText}</p>
                        </div>
                    `;
                    traitDetailsEl.innerHTML += traitHtml;
                }
            }
        }

        async function handleDownload(testType) {
            const content = testType === 'hexaco' ? document.getElementById('results-content') : document.getElementById('personality-results-content');
            const messageEl = testType === 'hexaco' ? shareMessageEl : personalityShareMessageEl;
            
            messageEl.textContent = getTranslation('downloading');
            try {
                const canvas = await html2canvas(content, { 
                    backgroundColor: '#f3f4f6',
                    scale: 2 
                });
                const link = document.createElement('a');
                link.href = canvas.toDataURL('image/png');
                link.download = `my-${testType}-results.png`;
                link.click();
                messageEl.textContent = getTranslation('downloaded');
            } catch(err) {
                console.error("Download failed", err);
                messageEl.textContent = getTranslation('downloadError');
            } finally {
                setTimeout(() => { messageEl.textContent = ''; }, 3000);
            }
        }
        
        function hideAllContainers() {
            const containers = [homepageContainerEl, testContainerEl, resultsContainerEl, personalityTestContainerEl, hexacoDetailsContainerEl, personalityDetailsContainerEl, aboutUsContainerEl];
            containers.forEach(c => c.style.display = 'none');
        }

        function showHomePage(e) {
            if(e) e.preventDefault();
            hideAllContainers();
            homepageContainerEl.style.display = 'flex';
            window.scrollTo(0, 0);
            if(!sidebar.classList.contains('translate-x-full')) {
                toggleSidebar();
            }
        }
        
        function show16PersonalitiesPage(e) {
            if(e) e.preventDefault();
            hideAllContainers();
            personalityTestContainerEl.style.display = 'flex';
            personalityIntroEl.style.display = 'block';
            personalityQuestionContainerEl.style.display = 'none';
            personalityResultsContainerEl.style.display = 'none';
            window.scrollTo(0, 0);
            if(!sidebar.classList.contains('translate-x-full')) {
                toggleSidebar();
            }
        }
        
        function toggleSidebar() {
            sidebar.classList.toggle('translate-x-full');
        }
        
        function showHexacoDetails(e) {
            e.preventDefault();
            hideAllContainers();
            hexacoDetailsContainerEl.style.display = 'block';
            window.scrollTo(0, 0);
        }

        function showPersonalityDetails(e) {
            e.preventDefault();
            hideAllContainers();
            personalityDetailsContainerEl.style.display = 'block';
            window.scrollTo(0, 0);
        }

        function showAboutUsPage(e) {
            e.preventDefault();
            hideAllContainers();
            aboutUsContainerEl.style.display = 'block';
            window.scrollTo(0, 0);
            if(!sidebar.classList.contains('translate-x-full')) {
                toggleSidebar();
            }
        }

        // --- 16 Personalities Test Logic ---
        function startPersonalityTest() {
            hideAllContainers();
            personalityTestContainerEl.style.display = 'flex';
            personalityScores = { M: 0, E: 0, N: 0, T: 0 };
            currentPersonalityQuestionIndex = 0;
            personalityUserAnswers = [];
            personalityIntroEl.style.display = 'none';
            personalityResultsContainerEl.style.display = 'none';
            personalityQuestionContainerEl.style.display = 'block';
            renderPersonalityAnswerOptions();
            showPersonalityQuestion();
        }

        function renderPersonalityAnswerOptions() {
            const buttonHTML = `
                <button data-value="5" class="personality-answer-btn bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-full">${getTranslation('stronglyAgree')}</button>
                <button data-value="4" class="personality-answer-btn bg-green-300 hover:bg-green-400 text-white font-bold py-3 px-4 rounded-full">${getTranslation('agree')}</button>
                <button data-value="3" class="personality-answer-btn bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-4 rounded-full">${getTranslation('neutral')}</button>
                <button data-value="2" class="personality-answer-btn bg-red-300 hover:bg-red-400 text-white font-bold py-3 px-4 rounded-full">${getTranslation('disagree')}</button>
                <button data-value="1" class="personality-answer-btn bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-4 rounded-full">${getTranslation('stronglyDisagree')}</button>
            `;
            personalityAnswerOptionsEl.innerHTML = buttonHTML;
            personalityAnswerOptionsEl.querySelectorAll('.personality-answer-btn').forEach(btn => {
                btn.addEventListener('click', (e) => handlePersonalityAnswer(parseInt(e.target.dataset.value)));
            });
        }

        function showPersonalityQuestion() {
            personalityBackBtn.style.visibility = currentPersonalityQuestionIndex === 0 ? 'hidden' : 'visible';
            if (currentPersonalityQuestionIndex < personalityQuestions.length) {
                const question = personalityQuestions[currentPersonalityQuestionIndex];
                personalityQuestionTextEl.textContent = question.text;
                const progress = ((currentPersonalityQuestionIndex + 1) / personalityQuestions.length) * 100;
                personalityProgressBarEl.style.width = `${progress}%`;
                personalityProgressTextEl.textContent = `Question ${currentPersonalityQuestionIndex + 1} of ${personalityQuestions.length}`;
            } else {
                showLoadingAndResults(calculateAndShowPersonalityResults);
            }
        }
        
        function handlePersonalityBackClick() {
            if (currentPersonalityQuestionIndex > 0) {
                currentPersonalityQuestionIndex--;
                const lastAnswer = personalityUserAnswers.pop();
                if(lastAnswer) {
                    personalityScores[lastAnswer.dimension] -= lastAnswer.score;
                }
                showPersonalityQuestion();
            }
        }

        function handlePersonalityAnswer(value) {
            const question = personalityQuestions[currentPersonalityQuestionIndex];
            const scoreMap = { 5: 2, 4: 1, 3: 0, 2: -1, 1: -2 };
            const score = scoreMap[value] * question.score;
            
            personalityScores[question.dimension] += score;
            personalityUserAnswers.push({ dimension: question.dimension, score: score });
            
            currentPersonalityQuestionIndex++;
            showPersonalityQuestion();
        }

        function calculateAndShowPersonalityResults() {
            let result = "";
            result += personalityScores.M > 0 ? "E" : "I";
            result += personalityScores.E > 0 ? "N" : "S";
            result += personalityScores.N > 0 ? "F" : "T";
            result += personalityScores.T > 0 ? "J" : "P";
            
            const typeData = personalityTypes[result];
            const typeColor = personalityTypeColors[typeData.group];

            personalityTypeTitleEl.className = `text-5xl font-extrabold mb-2 text-center bg-gradient-to-r ${typeColor} bg-clip-text text-transparent`;
            personalityTypeTitleEl.textContent = result;
            personalityTypeNameEl.textContent = typeData.name;
            personalityTypeDescriptionEl.textContent = typeData.description;

            personalityStrengthsEl.innerHTML = typeData.strengths.map(s => `<li>${s}</li>`).join('');
            personalityWeaknessesEl.innerHTML = typeData.weaknesses.map(w => `<li>${w}</li>`).join('');
            personalityCareersEl.textContent = typeData.careers.join(', ');
            personalityFamousEl.textContent = typeData.famous.join(', ');

            personalityQuestionContainerEl.style.display = 'none';
            personalityTestContainerEl.style.display = 'flex';
            personalityResultsContainerEl.style.display = 'block';
        }

        function handleGenericShare(platform, testType) {
            const messageEl = testType === 'hexaco' ? shareMessageEl : personalityShareMessageEl;
            let title, name, text;
            const url = encodeURIComponent(window.location.href);

            if (testType === 'hexaco') {
                title = profileTitleEl.textContent;
                text = encodeURIComponent(`I took the Great Mind Profile test and my result is "${title}"! Find out your personality profile:`);
            } else {
                title = personalityTypeTitleEl.textContent;
                name = personalityTypeNameEl.textContent;
                text = encodeURIComponent(`I got ${title} (${name}) on the 16 Personalities test! Find out your type:`);
            }

            let shareUrl = '';
            if (platform === 'instagram') {
                messageEl.textContent = 'Download the image to share on Instagram!';
                setTimeout(() => { messageEl.textContent = ''; }, 3000);
                return;
            }

            switch(platform) {
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${text}`;
                    break;
                case 'whatsapp':
                    shareUrl = `https://api.whatsapp.com/send?text=${text}%20${url}`;
                    break;
            }
            if(shareUrl) {
                window.open(shareUrl, '_blank');
            }
        }


        // --- Event Listeners ---
        homeStartHexacoBtn.addEventListener('click', startTest);
        homeStart16pBtn.addEventListener('click', startPersonalityTest);
        backBtn.addEventListener('click', handleBackClick);
        downloadBtn.addEventListener('click', () => handleDownload('hexaco'));
        burgerMenu.addEventListener('click', toggleSidebar);
        closeSidebarBtn.addEventListener('click', toggleSidebar);
        navLogo.addEventListener('click', showHomePage);
        navHome.addEventListener('click', showHomePage);
        navAbout.addEventListener('click', showAboutUsPage);
        sidebarHome.addEventListener('click', showHomePage);
        sidebarAbout.addEventListener('click', showAboutUsPage);
        backToHomeBtn.addEventListener('click', showHomePage);
        document.querySelectorAll('.back-to-home-btn-secondary').forEach(btn => {
            btn.addEventListener('click', showHomePage);
        });
        goTo16pTestBtn.addEventListener('click', show16PersonalitiesPage);
        goToHexacoTestBtn.addEventListener('click', startTest);
        learnMoreHexacoBtn.addEventListener('click', showHexacoDetails);
        learnMore16pBtn.addEventListener('click', showPersonalityDetails);
        
        // 16 Personalities Listeners
        startPersonalityTestBtn.addEventListener('click', startPersonalityTest);
        personalityBackBtn.addEventListener('click', handlePersonalityBackClick);
        downloadPersonalityBtn.addEventListener('click', () => handleDownload('personality'));

        // Set initial UI text on page load
        setInitialUIText();

    </script>
</body>
</html>
